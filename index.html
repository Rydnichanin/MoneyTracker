<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Courier Finance</title>
    <style>
        :root {
            --bg: #000000;
            --card: #141414;
            --accent: #e2b05f;
            --green: #4ade80;
            --red: #f87171;
            --text: #ffffff;
        }

        body { 
            font-family: -apple-system, system-ui, sans-serif; 
            background: var(--bg); color: var(--text); 
            margin: 0; padding: 12px; 
        }

        .card { 
            background: var(--card); border-radius: 16px; padding: 16px; 
            margin-bottom: 12px; border: 1px solid #222; 
        }

        h3 { margin: 0 0 12px 0; font-size: 14px; color: var(--accent); display: flex; align-items: center; gap: 8px; }

        /* –ü–æ–ª—è –≤–≤–æ–¥–∞ */
        select, input { 
            width: 100%; padding: 14px; background: #1a1a1a; border: 1px solid #333; 
            color: #fff; border-radius: 10px; margin-bottom: 10px; font-size: 16px;
        }

        /* –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ —Å—É–º–º */
        .quick-amounts { display: flex; gap: 8px; margin-bottom: 12px; overflow-x: auto; padding-bottom: 4px; }
        .quick-amounts button { 
            flex: 0 0 auto; background: #222; color: var(--accent); border: 1px solid #333;
            padding: 8px 16px; border-radius: 8px; font-weight: bold;
        }

        /* –ö–Ω–æ–ø–∫–∞ –ó–∞–ø–∏—Å–∞—Ç—å */
        .btn-main { 
            background: var(--green); color: #000; border: none; font-weight: bold; 
            padding: 16px; border-radius: 12px; width: 100%; font-size: 18px;
        }

        /* –ë–ª–æ–∫ –ë–∞–ª–∞–Ω—Å–∞ */
        .balance-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; text-align: center; margin-bottom: 15px; }
        .balance-val { font-size: 18px; font-weight: bold; }
        .balance-label { font-size: 11px; color: #888; margin-bottom: 4px; }

        /* –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ) */
        .filter-buttons { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px; }
        .filter-buttons button { 
            flex: 0 0 auto; background: #1a1a1a; color: #fff; border: 1px solid #333;
            padding: 10px 18px; border-radius: 8px; font-size: 13px;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–µ–Ω–∑–∏–Ω–∞ */
        .gas-bar-bg { background: #222; height: 6px; border-radius: 10px; margin: 8px 0; overflow: hidden; }
        .gas-bar-fill { background: var(--accent); height: 100%; transition: 0.3s; }

        /* –°–ø–∏—Å–∫–∏ –∏ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω—ã */
        .collapsible { display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .collapsible::after { content: '‚ñº'; font-size: 10px; color: #444; }
        .content { margin-top: 12px; }
        .hidden { display: none; }

        .stat-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #1a1a1a; }
        .diff-pos { color: var(--green); font-size: 11px; }
        .diff-neg { color: var(--red); font-size: 11px; }
    </style>
</head>
<body>

    <div class="card">
        <div style="display: flex; gap: 10px;">
            <select id="type"><option value="income">–ü—Ä–∏—Ö–æ–¥</option><option value="expense">–†–∞—Å—Ö–æ–¥</option></select>
            <select id="category"></select>
        </div>
        <div id="subcatWrap" class="hidden"><select id="subcategory"></select></div>
        <div style="display: flex; gap: 10px;">
            <input type="number" id="amount" placeholder="–°—É–º–º–∞" inputmode="numeric">
            <input type="date" id="date">
        </div>
        <div class="quick-amounts">
            <button onclick="setAmount(150)">150</button>
            <button onclick="setAmount(300)">300</button>
            <button onclick="setAmount(500)">500</button>
            <button onclick="setAmount(600)">600</button>
            <button onclick="setAmount(4500)">4500</button>
            <button onclick="setAmount(5000)">5000</button>
        </div>
        <button class="btn-main" id="saveBtn">–ó–∞–ø–∏—Å–∞—Ç—å</button>
    </div>

    <div class="card">
        <h3 onclick="toggleBox('balanceBox')">üí∞ –ë–∞–ª–∞–Ω—Å –∏ –§–∏–ª—å—Ç—Ä—ã</h3>
        <div id="balanceBox">
            <div class="balance-grid">
                <div><div class="balance-label">–ò—Ç–æ–≥</div><div class="balance-val" id="balanceTotal">0 ‚Ç∏</div></div>
                <div><div class="balance-label">–ü—Ä–∏—Ö–æ–¥</div><div class="balance-val" id="totalIncome" style="color:var(--green)">0 ‚Ç∏</div></div>
                <div><div class="balance-label">–†–∞—Å—Ö–æ–¥</div><div class="balance-val" id="totalExpense" style="color:var(--red)">0 ‚Ç∏</div></div>
            </div>
            
            <div id="gasInfo" style="font-size: 11px; margin-bottom: 10px;">
                <div style="display:flex; justify-content:space-between">
                    <span>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</span>
                    <span id="gasPercentText">–ë–µ–Ω–∑–∏–Ω: 0%</span>
                </div>
                <div class="gas-bar-bg"><div class="gas-bar-fill" id="gasBar"></div></div>
            </div>

            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
                <input type="date" id="fromDate" style="margin:0; padding:10px; font-size:14px;">
                <input type="date" id="toDate" style="margin:0; padding:10px; font-size:14px;">
            </div>
            <div class="filter-buttons">
                <button onclick="setPeriod('today')">–°–µ–≥–æ–¥–Ω—è</button>
                <button onclick="setPeriod('yesterday')">–í—á–µ—Ä–∞</button>
                <button onclick="setPeriod('week')">–ù–µ–¥–µ–ª—è</button>
                <button onclick="setPeriod('month')">–ú–µ—Å—è—Ü</button>
                <button onclick="setPeriod('all')">–í—Å—ë –≤—Ä–µ–º—è</button>
            </div>
        </div>
    </div>

    <div class="card">
        <h3 class="collapsible" onclick="toggleBox('realBox')">üìà –î–æ—Ö–æ–¥ –ø–æ —Ç–æ—á–∫–∞–º (–†–µ–∞–ª)</h3>
        <div id="realBox" class="content">
            <div id="earningsDetails"></div>
        </div>
    </div>

    <div class="card">
        <h3 class="collapsible" onclick="toggleBox('vdBox')">üîÆ –í–æ–∑–º–æ–∂–Ω—ã–π –¥–æ—Ö–æ–¥ (–í–î)</h3>
        <div id="vdBox" class="content">
            <div id="potentialStats"></div>
        </div>
    </div>

    <div class="card">
        <h3 class="collapsible" onclick="toggleBox('expBox')">üìâ –†–∞—Å—Ö–æ–¥—ã</h3>
        <div id="expBox" class="content hidden">
            <div id="expenseDetails"></div>
        </div>
    </div>

    <div id="list"></div>

    <script>
        function toggleBox(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
        }
    </script>
    <script src="app.js"></script>
</body>
</html>
